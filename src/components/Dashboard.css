/* ===== src/components/Dashboard.css (VERS츾O FINAL + DARK MODE + IMPRESS츾O) ===== */

.dashboard-container {
    display: flex;
    height: 100vh;
    width: 100vw;
    background-color: var(--bg-body); /* 游꿢 Vari치vel */
}

/* --- 1. Sidebar (Menu Esquerdo) --- */
.sidebar {
    width: 260px;
    background-color: var(--bg-sidebar); /* 游꿢 Vari치vel */
    color: var(--text-sidebar); /* 游꿢 Vari치vel */
    display: flex;
    flex-direction: column;
    padding: 20px;
    box-sizing: border-box; 
}

.sidebar-nav {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 20px;
}

.nav-item {
    padding: 12px 15px;
    color: #bdc3c7; 
    text-decoration: none;
    border-radius: 6px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 1rem;
    font-weight: 500;
    transition: all 0.2s ease;
}

.nav-item:hover {
    background-color: rgba(255, 255, 255, 0.1); /* 游꿢 Transpar칡ncia para funcionar em ambos */
    color: #ffffff;
}

.nav-item.active {
    background-color: var(--primary-color); /* 游꿢 Vari치vel */
    color: #ffffff;
    font-weight: 600;
}

.nav-item-atalho {
    color: #95a5a6;
}

.nav-atalho {
    font-size: 0.8rem;
    color: #bdc3c7;
    background-color: rgba(0, 0, 0, 0.2);
    padding: 2px 6px;
    border-radius: 4px;
}
.nav-item.active .nav-atalho {
    background-color: rgba(0, 0, 0, 0.2); 
    color: #fff;
}

/* Footer da Sidebar */
.sidebar-footer {
    margin-top: auto; 
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.user-email {
    font-size: 0.85rem;
    color: #95a5a6;
    word-break: break-all; 
    text-align: center;
    margin-bottom: 5px;
}

.logout-button {
    width: 100%;
    padding: 10px;
    background-color: var(--danger-color); /* 游꿢 Vari치vel */
    color: white;
    border: none;
    border-radius: 5px;
    font-weight: 600;
    font-size: 1rem;
    cursor: pointer;
}
.logout-button:hover {
    filter: brightness(0.9);
}

/* 游꿢 Bot칚o de Tema (Novo) */
.theme-toggle-btn {
    background: none;
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: var(--text-sidebar);
    padding: 8px;
    border-radius: 5px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-size: 0.9rem;
    transition: background-color 0.2s;
}
.theme-toggle-btn:hover {
    background-color: rgba(255, 255, 255, 0.1);
}


/* --- 2. Conte칰do Principal --- */
.main-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow: hidden; 
}

.main-header {
    padding: 20px 30px;
    background-color: var(--bg-card); /* 游꿢 Vari치vel */
    border-bottom: 1px solid var(--border-color); /* 游꿢 Vari치vel */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    z-index: 10; 
}
.main-header h2 {
    margin: 0;
    color: var(--text-primary); /* 游꿢 Vari치vel */
}

.content-area {
    flex: 1;
    padding: 30px;
    overflow-y: auto;
}


/* --- REGRAS DA LOGO CORRIGIDAS --- */
.sidebar-logo-container {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px 0;
    margin-bottom: 20px;
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-sidebar);
    text-align: center;
}
.sidebar-logo {
    width: 80%;
    height: auto;
    object-fit: contain;
}

/* =========================================================
   ESTILOS DO FINANCEIRO.CSS MOVIDOS PARA C츼
========================================================= */

.financeiro-container {
    background-color: var(--bg-card); /* 游꿢 Vari치vel */
    padding: 30px;
    border-radius: 8px;
    box-shadow: var(--shadow-card);
    color: var(--text-primary);
}

.financeiro-container h3 {
    font-size: 1.8rem;
    margin-bottom: 25px;
    color: var(--text-primary);
}
.section-title {
    margin-top: 40px;
    border-bottom: 2px solid var(--border-color);
    padding-bottom: 10px;
    color: var(--text-primary);
}

/* --- Estilos das Abas --- */
.tabs-nav {
    display: flex;
    border-bottom: 2px solid var(--border-color);
    margin-bottom: 25px;
}
.tab-btn {
    background: none;
    border: none;
    padding: 12px 20px;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-secondary); /* 游꿢 Vari치vel */
    cursor: pointer;
    border-bottom: 3px solid transparent;
    margin-bottom: -2px;
    transition: all 0.2s ease;
}
.tab-btn:hover { color: var(--text-primary); }
.tab-btn.active {
    color: var(--primary-color);
    border-bottom-color: var(--primary-color);
}

/* --- Estilos do Resumo do Dia --- */
.resumo-dia-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid var(--border-color);
    padding-bottom: 10px;
    margin-bottom: 20px;
}
.resumo-dia-header h3 { margin: 0; color: var(--text-primary); }
.btn-atualizar-resumo {
    background-color: var(--bg-body);
    border: 1px solid var(--border-color);
    color: var(--text-primary);
    padding: 8px 12px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 500;
}
.btn-atualizar-resumo:hover { filter: brightness(0.95); }
.btn-atualizar-resumo:disabled { opacity: 0.6; cursor: not-allowed; }
.resumo-cards-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}
.resumo-card {
    background-color: var(--bg-card);
    border-radius: 8px;
    box-shadow: var(--shadow-card);
    padding: 20px;
    border-left: 5px solid;
}
.resumo-card h4 {
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 1rem;
    color: var(--text-secondary);
    font-weight: 600;
}
.resumo-card p {
    margin: 0;
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--text-primary);
}
.resumo-card.verde { border-color: var(--success-color); }
.resumo-card.verde p { color: var(--success-color); }
.resumo-card.azul { border-color: var(--primary-color); }
.resumo-card.azul p { color: var(--primary-color); }
.resumo-loading-spinner {
    width: 30px;
    height: 30px;
    border: 4px solid var(--bg-body);
    border-top: 4px solid var(--primary-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* --- ESTILOS DO RELAT칍RIO DRE (Formul치rio) --- */
.relatorio-form {
    display: flex;
    gap: 15px;
    align-items: flex-end;
    margin-bottom: 20px;
    background-color: var(--bg-card);
    padding: 20px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
}
.relatorio-form .form-group {
    display: flex;
    flex-direction: column;
}
.relatorio-form label {
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-bottom: 5px;
}
.relatorio-form input[type="date"] {
    padding: 8px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 1rem;
    background-color: var(--bg-body);
    color: var(--text-primary);
}
.btn-gerar-relatorio {
    background-color: var(--primary-color);
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 4px;
    font-weight: 600;
    cursor: pointer;
    height: fit-content;
}
.btn-gerar-relatorio:disabled { background-color: #aaa; cursor: not-allowed; }


/* --- 游꿢 NOVO LAYOUT DE CARDS PARA O DRE --- */
.dre-card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 20px;
    margin-top: 20px;
    margin-bottom: 40px;
}

.dre-card {
    background-color: var(--bg-card);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    box-shadow: var(--shadow-card);
    padding: 20px;
}

.dre-card h4 {
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 1.1rem;
    color: var(--text-secondary);
    font-weight: 600;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 10px;
}

.dre-card p {
    margin: 0;
    font-size: 2rem; 
    font-weight: 700;
}

.dre-card-receita p { color: var(--success-color); }
.dre-card-despesa p { color: var(--danger-color); }
.dre-card-lucro-bruto p { color: var(--primary-color); }
.dre-card-lucro-liquido {
    grid-column: 1 / -1; 
    text-align: center;
    background-color: var(--bg-body);
    border-color: var(--primary-color);
}
.dre-card-lucro-liquido p {
    color: var(--primary-color);
    font-size: 2.5rem;
}

.dre-card-sub-items {
    margin-top: 15px;
    font-size: 0.9rem;
    color: var(--text-secondary);
    display: flex;
    flex-direction: column;
    gap: 5px;
}
.dre-card-sub-items span { font-weight: 500; }


/* --- Estilos da Aba Contas a Pagar --- */
.financeiro-controles {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
}
.status-filtros .btn-filtro {
    background: none;
    border: none;
    padding: 10px 15px;
    margin-right: 10px;
    font-weight: 600;
    cursor: pointer;
    color: var(--text-secondary);
    border-bottom: 2px solid transparent;
    transition: all 0.2s;
}
.status-filtros .btn-filtro.active {
    color: var(--primary-color);
    border-bottom: 2px solid var(--primary-color);
}
.btn-nova-conta {
    background-color: var(--primary-color);
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 4px;
    font-weight: 600;
    cursor: pointer;
    min-width: 170px; 
    text-align: center;
}
.modal-financeiro {
    background-color: var(--bg-card);
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
    border: 1px solid var(--border-color);
    box-shadow: var(--shadow-card);
}
.modal-financeiro h4 { color: var(--text-primary); }
.modal-financeiro form { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; }
.modal-financeiro input { padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; flex: 1; min-width: 150px; background-color: var(--bg-body); color: var(--text-primary); }
.modal-actions-financeiro { display: flex; gap: 10px; margin-left: auto; }
.modal-actions-financeiro button { padding: 8px 15px; border: none; border-radius: 4px; font-weight: 600; cursor: pointer; }
.modal-actions-financeiro button:nth-child(1) { background-color: #ccc; color: #333; }
.modal-actions-financeiro button:nth-child(2) { background-color: var(--success-color); color: white; }

/* --- Layout de Cards para Contas a Pagar --- */
.contas-card-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    padding-top: 10px;
}
.conta-card {
    background-color: var(--bg-card);
    border-radius: 8px;
    border: 1px solid var(--border-color);
    box-shadow: var(--shadow-card);
    overflow: hidden;
    display: flex;
    flex-direction: column;
}
.conta-card-header {
    padding: 15px 20px;
    border-bottom: 1px solid var(--border-color);
}
.conta-card-header h5 {
    margin: 0;
    font-size: 1.1rem;
    color: var(--text-primary);
    word-wrap: break-word; 
}
.conta-card-body {
    padding: 20px;
    flex-grow: 1;
}
.conta-card-info {
    display: flex;
    justify-content: space-between;
    margin-bottom: 15px;
}
.conta-card-info span {
    font-size: 0.9rem;
    color: var(--text-secondary);
    font-weight: 600;
}
.conta-card-info .valor {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--danger-color);
}
.conta-card.status-paga .conta-card-info .valor {
    color: var(--success-color);
}
.conta-card.status-atrasada {
    border-left: 4px solid var(--danger-color);
}
.conta-card.status-atrasada .conta-card-info .valor {
    color: var(--danger-color);
}
.conta-card-footer {
    display: flex;
    background-color: var(--bg-body);
    border-top: 1px solid var(--border-color);
    padding: 10px;
    gap: 10px;
    justify-content: flex-end;
}
.btn-pagar { background-color: var(--success-color); color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 0.9rem; }
.btn-pagar:hover { filter: brightness(0.9); }
.btn-excluir { background-color: var(--danger-color); color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 0.9rem; font-weight: 500; }
.btn-excluir:hover { filter: brightness(0.9); }
.btn-excluir:disabled { background-color: #aaa; opacity: 0.7; cursor: not-allowed; }
.btn-editar { background-color: #ffc107; color: #333; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 0.9rem; font-weight: 500; }
.btn-editar:hover { background-color: #e0a800; }
.btn-editar:disabled { background-color: #aaa; opacity: 0.7; cursor: not-allowed; }

/* --- Estilos da Aba Relat칩rios de Vendas --- */
.relatorio-form-produtos {
    display: flex;
    flex-wrap: wrap; 
    gap: 15px;
    align-items: flex-end;
    margin-bottom: 20px;
    background-color: var(--bg-card);
    padding: 20px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
}
.relatorio-form-produtos .form-group {
    display: flex;
    flex-direction: column;
    flex: 1; 
    min-width: 150px; 
}
.relatorio-form-produtos label {
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-bottom: 5px;
}
.relatorio-form-produtos input[type="date"],
.relatorio-form-produtos select {
    padding: 8px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 1rem;
    width: 100%;
    background-color: var(--bg-body);
    color: var(--text-primary);
}
.relatorio-form-produtos .btn-gerar-relatorio {
    flex-basis: 150px; 
    height: 38px; 
}
.report-produtos-tabela .unidade-medida {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-left: 4px;
}

/* --- Layout de Cards para Relat칩rio de Vendas --- */
.report-card-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    padding-top: 10px;
}
.report-card {
    background-color: var(--bg-card);
    border-radius: 8px;
    border: 1px solid var(--border-color);
    box-shadow: var(--shadow-card);
    padding: 20px;
}
.report-card h5 {
    margin: 0 0 10px 0;
    font-size: 1.1rem;
    color: var(--text-primary);
    word-wrap: break-word;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 10px;
}
.report-card-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 15px;
}
.report-card-info .label {
    font-size: 0.9rem;
    color: var(--text-secondary);
    font-weight: 600;
}
.report-card-info .receita {
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--success-color);
}
.report-card-info .quantidade {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--primary-color);
}

/* --- Mensagens de Erro/Loading Globais --- */
.financeiro-error {
    color: var(--danger-color);
    background-color: #fcebeb; /* Mantido fixo por sem칙ntica */
    padding: 10px;
    border-radius: 5px;
    margin-bottom: 15px;
}
.financeiro-loading {
    text-align: center;
    padding: 20px;
    color: var(--text-secondary);
}

/* --- Estilo do Bot칚o Baixar PDF --- */
.btn-pdf-relatorio {
    background-color: var(--success-color); /* Verde Sucesso */
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 4px;
    font-weight: 600;
    cursor: pointer;
    height: fit-content;
    margin-left: 10px; 
}
.btn-pdf-relatorio:hover {
    filter: brightness(0.9);
}
.btn-pdf-relatorio:disabled {
    background-color: #aaa;
    cursor: not-allowed;
}

/* ======================================================================
   游꿢 ESTILOS DE IMPRESS츾O INTELIGENTE
   ====================================================================== */
@media print {
    /* Esconde elementos */
    .sidebar, .tabs-nav, .financeiro-controles button, .header-botoes, 
    .estoque-busca-input, .btn-pdf-relatorio, .btn-gerar-relatorio, 
    .relatorio-form, .estoque-sidebar-categorias, .no-print,
    .btn-editar, .btn-excluir, .btn-pagar, .btn-card-acao,
    .dividas-acoes, .btn-adicionar-cliente, .modal-financeiro, 
    .cliente-card-acoes, .theme-toggle-btn {
        display: none !important;
    }

    /* Layout de Impress칚o (Sempre claro) */
    .dashboard-container, .dividas-container, .estoque-layout-container {
        display: block;
        background-color: white;
        color: black;
        height: auto;
        width: 100%;
        margin: 0; padding: 0;
    }
    .main-content { margin-left: 0; height: auto; overflow: visible; }
    .content-area { padding: 0; overflow: visible; }
    .financeiro-container, .estoque-layout-container { box-shadow: none; padding: 0; border: none; }
    
    /* Cards na Impress칚o */
    .resumo-card, .conta-card, .report-card, .dre-card, .cliente-card, .produto-card-novo {
        box-shadow: none !important;
        border: 1px solid #ccc !important;
        break-inside: avoid;
        background-color: white !important; /* For칞a fundo branco */
        color: black !important;
    }
    h3, h4, h5, label, span, p { color: black !important; }

    /* Grids */
    .resumo-cards-container, .contas-card-container, .report-card-container,
    .estoque-grid-produtos, .dre-card-grid, .cliente-grid-container {
        display: grid;
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 15px;
    }
    .dre-card-lucro-liquido { grid-column: 1 / -1 !important; }

    body, #root { height: auto; overflow: visible; background-color: white; }
    .estoque-main-content { width: 100% !important; margin: 0 !important; padding: 0 !important; }
}